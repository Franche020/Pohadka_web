{"version":3,"sources":["fechas.js"],"names":["checkIn","document","querySelector","checkOut","room","querySelectorAll","formFecha","acommodationSubmit","map","tipo","roomnumber","checkInValue","checkOutValue","acommodationType","lang","eventListeners","addEventListener","undefined","Swal","fire","icon","title","text","e","target","value","comprobarEstado","preventDefault","console","log","eventListenersRooms","forEach","checked","obtenerHabitacion","id","charAt","then","datosHabitacion","mostrarRoom","catch","async","datosResultado","datos","FormData","append","url","respuesta","fetch","method","body","resultado","json","objeto","push","actualizarRooms","error","room1","room2","room3","room4","includes","classList","add","remove","carpetaImg","overlay","createElement","appendChild","card","cerrarModal","onclick","innerHTML","nombre","descripcion","capacidad","precio","innerText","toLowerCase","descripcionCheco","descripcionIngles","objetoHabitacion","fotosHabitacion","divImagen","index","imagenHabitacion","noFoto","submit","textContent","window","location","href","lenguaje","navigator","language","userLanguage","detectarDeslizamiento","elemento","Promise","resolve","inicioX","finX","event","touches","clientX","passive","changedTouches","desplazamientoX","i","arrayLenght","Object","keys","length","imagen","src","alt","altCheco","altIngles","siguienteFoto","anteriorFoto","newIndex","fotoSiguiente","fotoAnterior","direccion","rellenarFechas"],"mappings":"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","file":"fechas.js","sourcesContent":["const checkIn = document.querySelector(\"#checkin\");\r\nconst checkOut = document.querySelector(\"#checkout\");\r\nconst room = document.querySelectorAll(\".room\");\r\nconst formFecha = document.querySelector(\"#form-fecha\");\r\nconst acommodationSubmit = document.querySelector(\"#acommodation-submit\");\r\nconst map = document.querySelector(\"#mapa\");\r\nvar tipo;\r\nvar roomnumber;\r\nvar checkInValue;\r\nvar checkOutValue;\r\nvar acommodationType;\r\nvar lang;\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  eventListeners();\r\n  // Obtencion del lenguaje\r\n  lang = lenguaje();\r\n  rellenarFechas();\r\n});\r\n\r\nfunction eventListeners() {\r\n  map.addEventListener(\"click\", function () {\r\n    if (checkInValue === undefined && checkOutValue === undefined) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"Please select dates first!\",\r\n      });\r\n    }\r\n  });\r\n\r\n  checkIn.addEventListener(\"change\", function (e) {\r\n    checkInValue = e.target.value;\r\n    comprobarEstado();\r\n  });\r\n  checkOut.addEventListener(\"change\", function (e) {\r\n    checkOutValue = e.target.value;\r\n    comprobarEstado();\r\n  });\r\n  acommodationSubmit.addEventListener(\"click\", function (e) {\r\n    e.preventDefault();\r\n\r\n    tipo = document.querySelector('input[name=\"tipo\"]:checked');\r\n    if (checkInValue !== undefined && checkOutValue !== undefined) {\r\n      if (tipo !== null) {\r\n        console.log(\r\n          `/acommodation/confirm?checkIn=${checkInValue}&checkOut=${checkOutValue}&tipo=${tipo.value}`\r\n        );\r\n\r\n        //window.location.href = `/acommodation/confirm?roomNumber=${roomnumber}&checkIn=${checkInValue}&checkOut=${checkOutValue}&tipo=${tipo.value}`;\r\n      } else {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Oops...\",\r\n          text: \"Please select one acommodation option!\",\r\n        });\r\n      }\r\n    } else {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n\r\n        text: \"Please select dates!\",\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction eventListenersRooms() {\r\n  room.forEach((room) => {\r\n    room.addEventListener(\"click\", (e) => {\r\n      tipo = document.querySelector('input[name=\"tipo\"][value=\"room\"]');\r\n      tipo.checked = true;\r\n\r\n      // Dentro del event listener\r\n\r\n      // Obtener el número de habitación del ID del elemento clicado\r\n      roomnumber = e.target.id.charAt(4);\r\n\r\n      // Llamar a la función obtenerHabitacion() y obtener los detalles de la habitación\r\n      obtenerHabitacion(roomnumber)\r\n        .then((datosHabitacion) => {\r\n          // Pasar el resultado a la función mostrarRoom()\r\n          mostrarRoom(datosHabitacion);\r\n        })\r\n        .catch(() => {\r\n          console.log(\"ERROR EN API\");\r\n        });\r\n    });\r\n  });\r\n}\r\n\r\nasync function comprobarEstado() {\r\n  if (checkInValue !== undefined && checkOutValue !== undefined) {\r\n    if (\r\n      checkInValue !== undefined &&\r\n      checkOutValue !== undefined &&\r\n      checkInValue <= checkOutValue\r\n    ) {\r\n      let datosResultado = [];\r\n\r\n      const datos = new FormData();\r\n      datos.append(\"checkIn\", checkInValue);\r\n      datos.append(\"checkOut\", checkOutValue);\r\n\r\n      try {\r\n        const url = \"http://localhost:3000/api/rooms\";\r\n        const respuesta = await fetch(url, {\r\n          method: \"POST\",\r\n          body: datos,\r\n        });\r\n        const resultado = await respuesta.json();\r\n\r\n        if (resultado[\"resultado\"] !== null) {\r\n          resultado[\"resultado\"].forEach((objeto) => {\r\n            datosResultado.push(objeto[\"castillo\"]);\r\n          });\r\n          actualizarRooms(datosResultado);\r\n        } else {\r\n          datosResultado = [];\r\n          actualizarRooms(datosResultado);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"The checkout date must be after the check-in date!\",\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction actualizarRooms(datos) {\r\n  const room1 = document.querySelector(\"#room1\");\r\n  const room2 = document.querySelector(\"#room2\");\r\n  const room3 = document.querySelector(\"#room3\");\r\n  const room4 = document.querySelector(\"#room4\");\r\n\r\n  if (datos.includes(\"1\")) {\r\n    room1.classList.add(\"reserved\");\r\n    room1.classList.remove(\"avaiable\");\r\n  } else {\r\n    room1.classList.add(\"avaiable\");\r\n    room1.classList.remove(\"reserved\");\r\n  }\r\n  if (datos.includes(\"2\")) {\r\n    room2.classList.add(\"reserved\");\r\n    room2.classList.remove(\"avaiable\");\r\n  } else {\r\n    room2.classList.add(\"avaiable\");\r\n    room2.classList.remove(\"reserved\");\r\n  }\r\n  if (datos.includes(\"3\")) {\r\n    room3.classList.add(\"reserved\");\r\n    room3.classList.remove(\"avaiable\");\r\n  } else {\r\n    room3.classList.add(\"avaiable\");\r\n    room3.classList.remove(\"reserved\");\r\n  }\r\n  if (datos.includes(\"4\")) {\r\n    room4.classList.add(\"reserved\");\r\n    room4.classList.remove(\"avaiable\");\r\n  } else {\r\n    room4.classList.add(\"avaiable\");\r\n    room4.classList.remove(\"reserved\");\r\n  }\r\n\r\n  eventListenersRooms();\r\n}\r\n\r\nfunction mostrarRoom(datosHabitacion) {\r\n  //console.log(datosHabitacion);\r\n\r\n  // Carpeta imagenes\r\n  carpetaImg = \"../imagenes/rooms/\";\r\n\r\n  // Aqui agrego todos los elementos referentes al body\r\n  const body = document.querySelector(\"body\");\r\n  const overlay = document.createElement(\"DIV\");\r\n  overlay.classList.add(\"overlay\");\r\n  body.classList.add(\"no-scroll\");\r\n  body.appendChild(overlay);\r\n\r\n  // Tarjeta\r\n  const card = document.createElement(\"DIV\");\r\n  card.classList.add(\"card\", \"center\");\r\n  overlay.appendChild(card);\r\n\r\n  // Cierre modal\r\n  const cerrarModal = document.createElement(\"DIV\");\r\n  cerrarModal.classList.add(\"cerrar\");\r\n  card.appendChild(cerrarModal);\r\n  cerrarModal.onclick = () => {\r\n    overlay.remove();\r\n    body.classList.remove(\"no-scroll\");\r\n    tipo = document.querySelector('input[name=\"tipo\"][value=\"room\"]');\r\n    tipo.checked = false;\r\n  };\r\n\r\n  cerrarModal.innerHTML = `\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-x\" width=\"36\" height=\"36\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#000000\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n    </svg>`;\r\n\r\n  //Elementos\r\n  const nombre = document.createElement(\"H3\");\r\n  const descripcion = document.createElement(\"DIV\");\r\n\r\n  const capacidad = document.createElement(\"P\");\r\n  capacidad.classList.add(\"pax\");\r\n\r\n  const precio = document.createElement(\"P\");\r\n  precio.classList.add(\"price\");\r\n\r\n  nombre.innerText = datosHabitacion.nombre;\r\n\r\n  if (lang.toLowerCase === \"cs\") {\r\n    descripcion.innerHTML = datosHabitacion.descripcionCheco;\r\n  } else {\r\n    descripcion.innerHTML = datosHabitacion.descripcionIngles;\r\n  }\r\n  capacidad.innerHTML = \"<span>Pax: </span>\" + datosHabitacion.capacidad;\r\n  precio.innerHTML = datosHabitacion.precio + \" <span>Kc</span>\";\r\n\r\n  card.appendChild(nombre);\r\n  card.appendChild(descripcion);\r\n  card.appendChild(capacidad);\r\n  card.appendChild(precio);\r\n\r\n  let objetoHabitacion = datosHabitacion.fotosHabitacion[0] || 0;\r\n\r\n  const divImagen = document.createElement(\"DIV\");\r\n  divImagen.classList.add(\"div-imagen\");\r\n\r\n  // Imagen\r\n  if (typeof objetoHabitacion === \"object\") {\r\n    let index = 0;\r\n    imagenHabitacion(divImagen, datosHabitacion.fotosHabitacion, index);\r\n    card.appendChild(divImagen);\r\n  } else {\r\n    const noFoto = document.createElement(\"H2\");\r\n    noFoto.innerText = \"NO FOTO\";\r\n    noFoto.classList.add(\"no-foto\");\r\n    card.appendChild(noFoto);\r\n  }\r\n\r\n  // Boton submit\r\n  const submit = document.createElement(\"BUTTON\");\r\n  submit.textContent = \"Select Room\";\r\n  submit.classList.add(\"boton\", \"boton-submit\");\r\n  card.appendChild(submit);\r\n\r\n  submit.addEventListener(\"click\", (e) => {\r\n    window.location.href = `/acommodation/confirm?roomNumber=${roomnumber}&checkIn=${checkInValue}&checkOut=${checkOutValue}&tipo=room`;\r\n  });\r\n\r\n  //nombre, descripcionIngles, descripcionCheco, capacidad, precio, castillo\r\n}\r\n\r\nasync function obtenerHabitacion(id) {\r\n  const datos = new FormData();\r\n  datos.append(\"id\", id);\r\n\r\n  try {\r\n    const url = \"http://localhost:3000/api/room\";\r\n    const respuesta = await fetch(url, {\r\n      method: \"POST\",\r\n      body: datos,\r\n    });\r\n    const resultado = await respuesta.json();\r\n    return resultado[\"habitacion\"];\r\n  } catch (error) {\r\n    console.log(error);\r\n    resultado = [];\r\n    return resultado;\r\n  }\r\n}\r\n\r\nfunction lenguaje() {\r\n  var lenguaje = navigator.language || navigator.userLanguage;\r\n  return lenguaje;\r\n}\r\n\r\nfunction detectarDeslizamiento(elemento) {\r\n  return new Promise((resolve) => {\r\n    let inicioX = 0;\r\n    let finX = 0;\r\n\r\n    elemento.addEventListener(\r\n      \"touchstart\",\r\n      (event) => {\r\n        inicioX = event.touches[0].clientX;\r\n      },\r\n      { passive: true }\r\n    );\r\n\r\n    elemento.addEventListener(\r\n      \"touchend\",\r\n      (event) => {\r\n        finX = event.changedTouches[0].clientX;\r\n        const desplazamientoX = finX - inicioX;\r\n\r\n        if (desplazamientoX > 0) {\r\n          // Deslizamiento hacia la derecha\r\n          resolve(\"derecha\");\r\n        } else if (desplazamientoX < 0) {\r\n          // Deslizamiento hacia la izquierda\r\n          resolve(\"izquierda\");\r\n        } else {\r\n          // Sin deslizamiento horizontal\r\n          resolve(\"sin deslizamiento\");\r\n        }\r\n      },\r\n      { passive: true }\r\n    );\r\n  });\r\n}\r\n\r\nfunction imagenHabitacion(divImagen, fotosHabitacion, index) {\r\n  // TODO mantener div imagen pero cambiar solo la img\r\n  var i = index;\r\n  // determinar longitud array\r\n  const arrayLenght = Object.keys(fotosHabitacion).length - 1;\r\n\r\n  const imagen = document.createElement(\"IMG\");\r\n\r\n  imagen.src = carpetaImg + fotosHabitacion[i].url;\r\n  if (lang.toLowerCase === \"cs\") {\r\n    imagen.alt = fotosHabitacion[i].altCheco;\r\n  } else {\r\n    imagen.alt = fotosHabitacion[i].altIngles;\r\n  }\r\n\r\n  divImagen.appendChild(imagen);\r\n\r\n  const siguienteFoto = document.createElement(\"DIV\");\r\n  const anteriorFoto = document.createElement(\"DIV\");\r\n\r\n  siguienteFoto.innerHTML = `\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-arrow-right\" width=\"36\" height=\"36\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#000000\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M5 12l14 0\" />\r\n      <path d=\"M13 18l6 -6\" />\r\n      <path d=\"M13 6l6 6\" />\r\n      </svg>`;\r\n\r\n  anteriorFoto.innerHTML = `\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-arrow-left\" width=\"36\" height=\"36\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#000000\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M5 12l14 0\" />\r\n      <path d=\"M5 12l6 6\" />\r\n      <path d=\"M5 12l6 -6\" />\r\n      </svg>`;\r\n\r\n  siguienteFoto.classList.add(\"siguiente-foto\");\r\n  anteriorFoto.classList.add(\"anterior-foto\");\r\n  divImagen.appendChild(siguienteFoto);\r\n  divImagen.appendChild(anteriorFoto);\r\n\r\n  siguienteFoto.addEventListener(\"click\", () => {\r\n    //console.log(\"siguiente\");\r\n    let newIndex;\r\n    newIndex = fotoSiguiente(i, arrayLenght);\r\n    // volver a llamar la funcion imagenHabitacion\r\n    imagenHabitacion(divImagen, fotosHabitacion, newIndex);\r\n    // Eliminacion de la imagen anterior\r\n    imagen.remove();\r\n  });\r\n\r\n  anteriorFoto.addEventListener(\"click\", () => {\r\n    //console.log(\"siguiente\");\r\n    let newIndex;\r\n    newIndex = fotoAnterior(i, arrayLenght);\r\n    // volver a llamar la funcion imagenHabitacion\r\n    imagenHabitacion(divImagen, fotosHabitacion, newIndex);\r\n    // Eliminacion de la imagen anterior\r\n    imagen.remove();\r\n  });\r\n\r\n  detectarDeslizamiento(divImagen)\r\n    .then((direccion) => {\r\n      let newIndex;\r\n\r\n      if (direccion === \"izquierda\") {\r\n        newIndex = fotoSiguiente(i, arrayLenght);\r\n      } else if (direccion === \"derecha\") {\r\n        newIndex = fotoAnterior(i, arrayLenght);\r\n      } else {\r\n        return;\r\n      }\r\n      // volver a llamar la funcion imagenHabitacion\r\n      imagenHabitacion(divImagen, fotosHabitacion, newIndex);\r\n      imagen.remove();\r\n    })\r\n    .catch();\r\n}\r\n\r\nfunction fotoSiguiente(index, arrayLenght) {\r\n  // determinar index actual\r\n  let newIndex = index;\r\n  if (index < arrayLenght) {\r\n    newIndex++;\r\n  } else {\r\n    newIndex = 0;\r\n  }\r\n  return newIndex;\r\n}\r\n\r\nfunction fotoAnterior(index, arrayLenght) {\r\n  // determinar index actual\r\n  let newIndex = index;\r\n  if (index === 0) {\r\n    newIndex = arrayLenght;\r\n  } else {\r\n    newIndex--;\r\n  }\r\n  return newIndex;\r\n}\r\n\r\nfunction rellenarFechas() {\r\n  if (checkIn.value !== \"\") {\r\n    checkInValue = checkIn.value;\r\n  }\r\n  if (checkOut.value !== \"\") {\r\n    checkOutValue = checkOut.value;\r\n  }\r\n\r\n  if (checkInValue === undefined) {\r\n    checkIn.value = \"\";\r\n  }\r\n  if (checkOutValue === undefined) {\r\n    checkOut.value = \"\";\r\n  }\r\n}\r\n"]}