{"version":3,"sources":["fechas.js"],"names":["checkIn","document","querySelector","checkOut","room","querySelectorAll","formFecha","acommodationSubmit","map","tipo","roomnumber","checkInValue","checkOutValue","acommodationType","lang","eventListeners","addEventListener","undefined","Swal","fire","icon","title","text","e","target","value","comprobarEstado","preventDefault","window","location","href","eventListenersRooms","forEach","classList","contains","checked","obtenerHabitacion","id","charAt","then","datosHabitacion","mostrarRoom","catch","console","log","async","datosResultado","datos","FormData","append","url","respuesta","fetch","method","body","resultado","json","objeto","push","actualizarRooms","error","room1","room2","room3","room4","includes","add","remove","carpetaImg","overlay","createElement","appendChild","card","cerrarModal","onclick","innerHTML","nombre","descripcion","capacidad","precio","innerText","toLowerCase","descripcionCheco","descripcionIngles","objetoHabitacion","fotosHabitacion","divImagen","index","imagenHabitacion","noFoto","submit","textContent","lenguaje","navigator","language","userLanguage","detectarDeslizamiento","elemento","Promise","resolve","inicioX","finX","event","touches","clientX","passive","changedTouches","desplazamientoX","i","arrayLenght","Object","keys","length","imagen","src","alt","altCheco","altIngles","siguienteFoto","anteriorFoto","newIndex","fotoSiguiente","fotoAnterior","direccion","rellenarFechas"],"mappings":"AAAA,MAAMA,QAAUC,SAASC,cAAc,YACjCC,SAAWF,SAASC,cAAc,aAClCE,KAAOH,SAASI,iBAAiB,SACjCC,UAAYL,SAASC,cAAc,eACnCK,mBAAqBN,SAASC,cAAc,wBAC5CM,IAAMP,SAASC,cAAc,SACnC,IAAIO,KACAC,WACAC,aACAC,cACAC,iBACAC,KASJ,SAASC,iBACPP,IAAIQ,iBAAiB,SAAS,gBACPC,IAAjBN,mBAAgDM,IAAlBL,eAChCM,KAAKC,KAAK,CACRC,KAAM,QACNC,MAAO,UACPC,KAAM,kCAKZtB,QAAQgB,iBAAiB,UAAU,SAAUO,GAC3CZ,aAAeY,EAAEC,OAAOC,MACxBC,qBAEFvB,SAASa,iBAAiB,UAAU,SAAUO,GAC5CX,cAAgBW,EAAEC,OAAOC,MACzBC,qBAEFnB,mBAAmBS,iBAAiB,SAAS,SAAUO,GACrDA,EAAEI,iBAEFlB,KAAOR,SAASC,cAAc,mCACTe,IAAjBN,mBAAgDM,IAAlBL,cACnB,OAATH,KAGFmB,OAAOC,SAASC,KAAO,iCAAiCnB,yBAAyBC,sBAAsBH,KAAKgB,QAE5GP,KAAKC,KAAK,CACRC,KAAM,QACNC,MAAO,UACPC,KAAM,2CAIVJ,KAAKC,KAAK,CACRC,KAAM,QACNC,MAAO,UAEPC,KAAM,4BAMd,SAASS,sBACP3B,KAAK4B,QAAS5B,IACZA,EAAKY,iBAAiB,QAAUO,IAE1BnB,EAAK6B,UAAUC,SAAS,eAC1BzB,KAAOR,SAASC,cAAc,qCACzBiC,SAAU,EAQfC,kBAHA1B,WAAaa,EAAEC,OAAOa,GAAGC,OAAO,IAI7BC,KAAMC,IAELC,YAAYD,KAEbE,MAAM,KACLC,QAAQC,IAAI,uBAQxBC,eAAenB,kBACb,QAAqBT,IAAjBN,mBAAgDM,IAAlBL,cAChC,QACmBK,IAAjBN,mBACkBM,IAAlBL,eACAD,cAAgBC,cAChB,CACA,IAAIkC,EAAiB,GAErB,MAAMC,EAAQ,IAAIC,SAClBD,EAAME,OAAO,UAAWtC,cACxBoC,EAAME,OAAO,WAAYrC,eAEzB,IACE,MAAMsC,EAAM,kCACNC,QAAkBC,MAAMF,EAAK,CACjCG,OAAQ,OACRC,KAAMP,IAEFQ,QAAkBJ,EAAUK,OAEH,OAA3BD,EAAqB,WACvBA,EAAqB,UAAEvB,QAASyB,IAC9BX,EAAeY,KAAKD,EAAiB,YAEvCE,gBAAgBb,KAEhBA,EAAiB,GACjBa,gBAAgBb,IAElB,MAAOc,GACPjB,QAAQC,IAAIgB,SAGd1C,KAAKC,KAAK,CACRC,KAAM,QACNC,MAAO,UACPC,KAAM,uDAMd,SAASqC,gBAAgBZ,GACvB,MAAMc,EAAQ5D,SAASC,cAAc,UAC/B4D,EAAQ7D,SAASC,cAAc,UAC/B6D,EAAQ9D,SAASC,cAAc,UAC/B8D,EAAQ/D,SAASC,cAAc,UAEjC6C,EAAMkB,SAAS,MACjBJ,EAAM5B,UAAUiC,IAAI,YACpBL,EAAM5B,UAAUkC,OAAO,cAEvBN,EAAM5B,UAAUiC,IAAI,YACpBL,EAAM5B,UAAUkC,OAAO,aAErBpB,EAAMkB,SAAS,MACjBH,EAAM7B,UAAUiC,IAAI,YACpBJ,EAAM7B,UAAUkC,OAAO,cAEvBL,EAAM7B,UAAUiC,IAAI,YACpBJ,EAAM7B,UAAUkC,OAAO,aAErBpB,EAAMkB,SAAS,MACjBF,EAAM9B,UAAUiC,IAAI,YACpBH,EAAM9B,UAAUkC,OAAO,cAEvBJ,EAAM9B,UAAUiC,IAAI,YACpBH,EAAM9B,UAAUkC,OAAO,aAErBpB,EAAMkB,SAAS,MACjBD,EAAM/B,UAAUiC,IAAI,YACpBF,EAAM/B,UAAUkC,OAAO,cAEvBH,EAAM/B,UAAUiC,IAAI,YACpBF,EAAM/B,UAAUkC,OAAO,aAGzBpC,sBAGF,SAASU,YAAYD,GAInB4B,WAAa,qBAGb,MAAMd,EAAOrD,SAASC,cAAc,QAC9BmE,EAAUpE,SAASqE,cAAc,OACvCD,EAAQpC,UAAUiC,IAAI,WACtBZ,EAAKrB,UAAUiC,IAAI,aACnBZ,EAAKiB,YAAYF,GAGjB,MAAMG,EAAOvE,SAASqE,cAAc,OACpCE,EAAKvC,UAAUiC,IAAI,OAAQ,UAC3BG,EAAQE,YAAYC,GAGpB,MAAMC,EAAcxE,SAASqE,cAAc,OAC3CG,EAAYxC,UAAUiC,IAAI,UAC1BM,EAAKD,YAAYE,GACjBA,EAAYC,QAAU,KACpBL,EAAQF,SACRb,EAAKrB,UAAUkC,OAAO,cACtB1D,KAAOR,SAASC,cAAc,qCACzBiC,SAAU,GAGjBsC,EAAYE,UAAY,+XAQxB,MAAMC,EAAS3E,SAASqE,cAAc,MAChCO,EAAc5E,SAASqE,cAAc,OAErCQ,EAAY7E,SAASqE,cAAc,KACzCQ,EAAU7C,UAAUiC,IAAI,OAExB,MAAMa,EAAS9E,SAASqE,cAAc,KACtCS,EAAO9C,UAAUiC,IAAI,SAErBU,EAAOI,UAAYxC,EAAgBoC,OAEV,OAArB9D,KAAKmE,YACPJ,EAAYF,UAAYnC,EAAgB0C,iBAExCL,EAAYF,UAAYnC,EAAgB2C,kBAE1CL,EAAUH,UAAY,qBAAuBnC,EAAgBsC,UAC7DC,EAAOJ,UAAYnC,EAAgBuC,OAAS,mBAE5CP,EAAKD,YAAYK,GACjBJ,EAAKD,YAAYM,GACjBL,EAAKD,YAAYO,GACjBN,EAAKD,YAAYQ,GAEjB,IAAIK,EAAmB5C,EAAgB6C,gBAAgB,IAAM,EAE7D,MAAMC,EAAYrF,SAASqE,cAAc,OAIzC,GAHAgB,EAAUrD,UAAUiC,IAAI,cAGQ,iBAArBkB,EAA+B,CACxC,IAAIG,EAAQ,EACZC,iBAAiBF,EAAW9C,EAAgB6C,gBAAiBE,GAC7Df,EAAKD,YAAYe,OACZ,CACL,MAAMG,EAASxF,SAASqE,cAAc,MACtCmB,EAAOT,UAAY,UACnBS,EAAOxD,UAAUiC,IAAI,WACrBM,EAAKD,YAAYkB,GAInB,MAAMC,EAASzF,SAASqE,cAAc,UACtCoB,EAAOC,YAAc,cACrBD,EAAOzD,UAAUiC,IAAI,QAAS,gBAC9BM,EAAKD,YAAYmB,GAEjBA,EAAO1E,iBAAiB,QAAUO,IAChCK,OAAOC,SAASC,KAAO,oCAAoCpB,sBAAsBC,yBAAyBC,4BAM9GiC,eAAeT,kBAAkBC,GAC/B,MAAMU,EAAQ,IAAIC,SAClBD,EAAME,OAAO,KAAMZ,GAEnB,IACE,MAAMa,EAAM,iCACNC,QAAkBC,MAAMF,EAAK,CACjCG,OAAQ,OACRC,KAAMP,IAGR,aADwBI,EAAUK,QACL,WAC7B,MAAOI,GAGP,OAFAjB,QAAQC,IAAIgB,GACZL,UAAY,GACLA,WAIX,SAASqC,WAEP,OADeC,UAAUC,UAAYD,UAAUE,aAIjD,SAASC,sBAAsBC,GAC7B,OAAO,IAAIC,QAASC,IAClB,IAAIC,EAAU,EACVC,EAAO,EAEXJ,EAASjF,iBACP,aACCsF,IACCF,EAAUE,EAAMC,QAAQ,GAAGC,SAE7B,CAAEC,SAAS,IAGbR,EAASjF,iBACP,WACCsF,IACCD,EAAOC,EAAMI,eAAe,GAAGF,QAC/B,MAAMG,EAAkBN,EAAOD,EAI7BD,EAFEQ,EAAkB,EAEZ,UACCA,EAAkB,EAEnB,YAGA,sBAGZ,CAAEF,SAAS,MAKjB,SAASjB,iBAAiBF,EAAWD,EAAiBE,GAEpD,IAAIqB,EAAIrB,EAER,MAAMsB,EAAcC,OAAOC,KAAK1B,GAAiB2B,OAAS,EAEpDC,EAAShH,SAASqE,cAAc,OAEtC2C,EAAOC,IAAM9C,WAAaiB,EAAgBuB,GAAG1D,IACpB,OAArBpC,KAAKmE,YACPgC,EAAOE,IAAM9B,EAAgBuB,GAAGQ,SAEhCH,EAAOE,IAAM9B,EAAgBuB,GAAGS,UAGlC/B,EAAUf,YAAY0C,GAEtB,MAAMK,EAAgBrH,SAASqE,cAAc,OACvCiD,EAAetH,SAASqE,cAAc,OAE5CgD,EAAc3C,UAAY,oZAQ1B4C,EAAa5C,UAAY,kZAQzB2C,EAAcrF,UAAUiC,IAAI,kBAC5BqD,EAAatF,UAAUiC,IAAI,iBAC3BoB,EAAUf,YAAY+C,GACtBhC,EAAUf,YAAYgD,GAEtBD,EAActG,iBAAiB,QAAS,KAEtC,IAAIwG,EACJA,EAAWC,cAAcb,EAAGC,GAE5BrB,iBAAiBF,EAAWD,EAAiBmC,GAE7CP,EAAO9C,WAGToD,EAAavG,iBAAiB,QAAS,KAErC,IAAIwG,EACJA,EAAWE,aAAad,EAAGC,GAE3BrB,iBAAiBF,EAAWD,EAAiBmC,GAE7CP,EAAO9C,WAGT6B,sBAAsBV,GACnB/C,KAAMoF,IACL,IAAIH,EAEJ,GAAkB,cAAdG,EACFH,EAAWC,cAAcb,EAAGC,OACvB,CAAA,GAAkB,YAAdc,EAGT,OAFAH,EAAWE,aAAad,EAAGC,GAK7BrB,iBAAiBF,EAAWD,EAAiBmC,GAC7CP,EAAO9C,WAERzB,QAGL,SAAS+E,cAAclC,EAAOsB,GAE5B,IAAIW,EAAWjC,EAMf,OALIA,EAAQsB,EACVW,IAEAA,EAAW,EAENA,EAGT,SAASE,aAAanC,EAAOsB,GAE3B,IAAIW,EAAWjC,EAMf,OALc,IAAVA,EACFiC,EAAWX,EAEXW,IAEKA,EAGT,SAASI,iBAEe,KAAlB5H,QAAQyB,QACVd,aAAeX,QAAQyB,OAEF,KAAnBtB,SAASsB,QACXb,cAAgBT,SAASsB,YAGNR,IAAjBN,eACFX,QAAQyB,MAAQ,SAEIR,IAAlBL,gBACFT,SAASsB,MAAQ,SAEER,IAAjBN,mBAAgDM,IAAlBL,eAChCc,kBA7aJzB,SAASe,iBAAiB,oBAAoB,WAC5CD,iBAEAD,KAAO8E,WACPgC","file":"fechas.js","sourcesContent":["const checkIn = document.querySelector(\"#checkin\");\r\nconst checkOut = document.querySelector(\"#checkout\");\r\nconst room = document.querySelectorAll(\".room\");\r\nconst formFecha = document.querySelector(\"#form-fecha\");\r\nconst acommodationSubmit = document.querySelector(\"#acommodation-submit\");\r\nconst map = document.querySelector(\"#mapa\");\r\nvar tipo;\r\nvar roomnumber;\r\nvar checkInValue;\r\nvar checkOutValue;\r\nvar acommodationType;\r\nvar lang;\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  eventListeners();\r\n  // Obtencion del lenguaje\r\n  lang = lenguaje();\r\n  rellenarFechas();\r\n});\r\n\r\nfunction eventListeners() {\r\n  map.addEventListener(\"click\", function () {\r\n    if (checkInValue === undefined && checkOutValue === undefined) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"Please select dates first!\",\r\n      });\r\n    }\r\n  });\r\n\r\n  checkIn.addEventListener(\"change\", function (e) {\r\n    checkInValue = e.target.value;\r\n    comprobarEstado();\r\n  });\r\n  checkOut.addEventListener(\"change\", function (e) {\r\n    checkOutValue = e.target.value;\r\n    comprobarEstado();\r\n  });\r\n  acommodationSubmit.addEventListener(\"click\", function (e) {\r\n    e.preventDefault();\r\n\r\n    tipo = document.querySelector('input[name=\"tipo\"]:checked');\r\n    if (checkInValue !== undefined && checkOutValue !== undefined) {\r\n      if (tipo !== null) {\r\n        //console.log(`/acommodation/confirm?roomNumber=${roomnumber}checkIn=${checkInValue}&checkOut=${checkOutValue}&tipo=${tipo.value}`);\r\n\r\n        window.location.href = `/acommodation/confirm?checkIn=${checkInValue}&checkOut=${checkOutValue}&tipo=${tipo.value}`;\r\n      } else {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Oops...\",\r\n          text: \"Please select one acommodation option!\",\r\n        });\r\n      }\r\n    } else {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n\r\n        text: \"Please select dates!\",\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction eventListenersRooms() {\r\n  room.forEach((room) => {\r\n    room.addEventListener(\"click\", (e) => {\r\n\r\n      if (room.classList.contains('avaiable')){\r\n        tipo = document.querySelector('input[name=\"tipo\"][value=\"room\"]');\r\n        tipo.checked = true;\r\n  \r\n        // Dentro del event listener\r\n  \r\n        // Obtener el número de habitación del ID del elemento clicado\r\n        roomnumber = e.target.id.charAt(4);\r\n  \r\n        // Llamar a la función obtenerHabitacion() y obtener los detalles de la habitación\r\n        obtenerHabitacion(roomnumber)\r\n          .then((datosHabitacion) => {\r\n            // Pasar el resultado a la función mostrarRoom()\r\n            mostrarRoom(datosHabitacion);\r\n          })\r\n          .catch(() => {\r\n            console.log(\"ERROR EN API\");\r\n          });\r\n\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nasync function comprobarEstado() {\r\n  if (checkInValue !== undefined && checkOutValue !== undefined) {\r\n    if (\r\n      checkInValue !== undefined &&\r\n      checkOutValue !== undefined &&\r\n      checkInValue <= checkOutValue\r\n    ) {\r\n      let datosResultado = [];\r\n\r\n      const datos = new FormData();\r\n      datos.append(\"checkIn\", checkInValue);\r\n      datos.append(\"checkOut\", checkOutValue);\r\n\r\n      try {\r\n        const url = \"http://localhost:3000/api/rooms\";\r\n        const respuesta = await fetch(url, {\r\n          method: \"POST\",\r\n          body: datos,\r\n        });\r\n        const resultado = await respuesta.json();\r\n        \r\n        if (resultado[\"resultado\"] !== null) {\r\n          resultado[\"resultado\"].forEach((objeto) => {\r\n            datosResultado.push(objeto[\"castillo\"]);\r\n          });\r\n          actualizarRooms(datosResultado);\r\n        } else {\r\n          datosResultado = [];\r\n          actualizarRooms(datosResultado);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Oops...\",\r\n        text: \"The checkout date must be after the check-in date!\",\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction actualizarRooms(datos) {\r\n  const room1 = document.querySelector(\"#room1\");\r\n  const room2 = document.querySelector(\"#room2\");\r\n  const room3 = document.querySelector(\"#room3\");\r\n  const room4 = document.querySelector(\"#room4\");\r\n\r\n  if (datos.includes(\"1\")) {\r\n    room1.classList.add(\"reserved\");\r\n    room1.classList.remove(\"avaiable\");\r\n  } else {\r\n    room1.classList.add(\"avaiable\");\r\n    room1.classList.remove(\"reserved\");\r\n  }\r\n  if (datos.includes(\"2\")) {\r\n    room2.classList.add(\"reserved\");\r\n    room2.classList.remove(\"avaiable\");\r\n  } else {\r\n    room2.classList.add(\"avaiable\");\r\n    room2.classList.remove(\"reserved\");\r\n  }\r\n  if (datos.includes(\"3\")) {\r\n    room3.classList.add(\"reserved\");\r\n    room3.classList.remove(\"avaiable\");\r\n  } else {\r\n    room3.classList.add(\"avaiable\");\r\n    room3.classList.remove(\"reserved\");\r\n  }\r\n  if (datos.includes(\"4\")) {\r\n    room4.classList.add(\"reserved\");\r\n    room4.classList.remove(\"avaiable\");\r\n  } else {\r\n    room4.classList.add(\"avaiable\");\r\n    room4.classList.remove(\"reserved\");\r\n  }\r\n\r\n  eventListenersRooms();\r\n}\r\n\r\nfunction mostrarRoom(datosHabitacion) {\r\n  //console.log(datosHabitacion);\r\n\r\n  // Carpeta imagenes\r\n  carpetaImg = \"../imagenes/rooms/\";\r\n\r\n  // Aqui agrego todos los elementos referentes al body\r\n  const body = document.querySelector(\"body\");\r\n  const overlay = document.createElement(\"DIV\");\r\n  overlay.classList.add(\"overlay\");\r\n  body.classList.add(\"no-scroll\");\r\n  body.appendChild(overlay);\r\n\r\n  // Tarjeta\r\n  const card = document.createElement(\"DIV\");\r\n  card.classList.add(\"card\", \"center\");\r\n  overlay.appendChild(card);\r\n\r\n  // Cierre modal\r\n  const cerrarModal = document.createElement(\"DIV\");\r\n  cerrarModal.classList.add(\"cerrar\");\r\n  card.appendChild(cerrarModal);\r\n  cerrarModal.onclick = () => {\r\n    overlay.remove();\r\n    body.classList.remove(\"no-scroll\");\r\n    tipo = document.querySelector('input[name=\"tipo\"][value=\"room\"]');\r\n    tipo.checked = false;\r\n  };\r\n\r\n  cerrarModal.innerHTML = `\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-x\" width=\"36\" height=\"36\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#000000\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\r\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\r\n    </svg>`;\r\n\r\n  //Elementos\r\n  const nombre = document.createElement(\"H3\");\r\n  const descripcion = document.createElement(\"DIV\");\r\n\r\n  const capacidad = document.createElement(\"P\");\r\n  capacidad.classList.add(\"pax\");\r\n\r\n  const precio = document.createElement(\"P\");\r\n  precio.classList.add(\"price\");\r\n\r\n  nombre.innerText = datosHabitacion.nombre;\r\n\r\n  if (lang.toLowerCase === \"cs\") {\r\n    descripcion.innerHTML = datosHabitacion.descripcionCheco;\r\n  } else {\r\n    descripcion.innerHTML = datosHabitacion.descripcionIngles;\r\n  }\r\n  capacidad.innerHTML = \"<span>Pax: </span>\" + datosHabitacion.capacidad;\r\n  precio.innerHTML = datosHabitacion.precio + \" <span>Kc</span>\";\r\n\r\n  card.appendChild(nombre);\r\n  card.appendChild(descripcion);\r\n  card.appendChild(capacidad);\r\n  card.appendChild(precio);\r\n\r\n  let objetoHabitacion = datosHabitacion.fotosHabitacion[0] || 0;\r\n\r\n  const divImagen = document.createElement(\"DIV\");\r\n  divImagen.classList.add(\"div-imagen\");\r\n\r\n  // Imagen\r\n  if (typeof objetoHabitacion === \"object\") {\r\n    let index = 0;\r\n    imagenHabitacion(divImagen, datosHabitacion.fotosHabitacion, index);\r\n    card.appendChild(divImagen);\r\n  } else {\r\n    const noFoto = document.createElement(\"H2\");\r\n    noFoto.innerText = \"NO FOTO\";\r\n    noFoto.classList.add(\"no-foto\");\r\n    card.appendChild(noFoto);\r\n  }\r\n\r\n  // Boton submit\r\n  const submit = document.createElement(\"BUTTON\");\r\n  submit.textContent = \"Select Room\";\r\n  submit.classList.add(\"boton\", \"boton-submit\");\r\n  card.appendChild(submit);\r\n\r\n  submit.addEventListener(\"click\", (e) => {\r\n    window.location.href = `/acommodation/confirm?roomNumber=${roomnumber}&checkIn=${checkInValue}&checkOut=${checkOutValue}&tipo=room`;\r\n  });\r\n\r\n  //nombre, descripcionIngles, descripcionCheco, capacidad, precio, castillo\r\n}\r\n\r\nasync function obtenerHabitacion(id) {\r\n  const datos = new FormData();\r\n  datos.append(\"id\", id);\r\n\r\n  try {\r\n    const url = \"http://localhost:3000/api/room\";\r\n    const respuesta = await fetch(url, {\r\n      method: \"POST\",\r\n      body: datos,\r\n    });\r\n    const resultado = await respuesta.json();\r\n    return resultado[\"habitacion\"];\r\n  } catch (error) {\r\n    console.log(error);\r\n    resultado = [];\r\n    return resultado;\r\n  }\r\n}\r\n\r\nfunction lenguaje() {\r\n  var lenguaje = navigator.language || navigator.userLanguage;\r\n  return lenguaje;\r\n}\r\n\r\nfunction detectarDeslizamiento(elemento) {\r\n  return new Promise((resolve) => {\r\n    let inicioX = 0;\r\n    let finX = 0;\r\n\r\n    elemento.addEventListener(\r\n      \"touchstart\",\r\n      (event) => {\r\n        inicioX = event.touches[0].clientX;\r\n      },\r\n      { passive: true }\r\n    );\r\n\r\n    elemento.addEventListener(\r\n      \"touchend\",\r\n      (event) => {\r\n        finX = event.changedTouches[0].clientX;\r\n        const desplazamientoX = finX - inicioX;\r\n\r\n        if (desplazamientoX > 0) {\r\n          // Deslizamiento hacia la derecha\r\n          resolve(\"derecha\");\r\n        } else if (desplazamientoX < 0) {\r\n          // Deslizamiento hacia la izquierda\r\n          resolve(\"izquierda\");\r\n        } else {\r\n          // Sin deslizamiento horizontal\r\n          resolve(\"sin deslizamiento\");\r\n        }\r\n      },\r\n      { passive: true }\r\n    );\r\n  });\r\n}\r\n\r\nfunction imagenHabitacion(divImagen, fotosHabitacion, index) {\r\n\r\n  var i = index;\r\n  // determinar longitud array\r\n  const arrayLenght = Object.keys(fotosHabitacion).length - 1;\r\n\r\n  const imagen = document.createElement(\"IMG\");\r\n\r\n  imagen.src = carpetaImg + fotosHabitacion[i].url;\r\n  if (lang.toLowerCase === \"cs\") {\r\n    imagen.alt = fotosHabitacion[i].altCheco;\r\n  } else {\r\n    imagen.alt = fotosHabitacion[i].altIngles;\r\n  }\r\n\r\n  divImagen.appendChild(imagen);\r\n\r\n  const siguienteFoto = document.createElement(\"DIV\");\r\n  const anteriorFoto = document.createElement(\"DIV\");\r\n\r\n  siguienteFoto.innerHTML = `\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-arrow-right\" width=\"36\" height=\"36\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#000000\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M5 12l14 0\" />\r\n      <path d=\"M13 18l6 -6\" />\r\n      <path d=\"M13 6l6 6\" />\r\n      </svg>`;\r\n\r\n  anteriorFoto.innerHTML = `\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon icon-tabler icon-tabler-arrow-left\" width=\"36\" height=\"36\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"#000000\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n      <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      <path d=\"M5 12l14 0\" />\r\n      <path d=\"M5 12l6 6\" />\r\n      <path d=\"M5 12l6 -6\" />\r\n      </svg>`;\r\n\r\n  siguienteFoto.classList.add(\"siguiente-foto\");\r\n  anteriorFoto.classList.add(\"anterior-foto\");\r\n  divImagen.appendChild(siguienteFoto);\r\n  divImagen.appendChild(anteriorFoto);\r\n\r\n  siguienteFoto.addEventListener(\"click\", () => {\r\n    //console.log(\"siguiente\");\r\n    let newIndex;\r\n    newIndex = fotoSiguiente(i, arrayLenght);\r\n    // volver a llamar la funcion imagenHabitacion\r\n    imagenHabitacion(divImagen, fotosHabitacion, newIndex);\r\n    // Eliminacion de la imagen anterior\r\n    imagen.remove();\r\n  });\r\n\r\n  anteriorFoto.addEventListener(\"click\", () => {\r\n    //console.log(\"siguiente\");\r\n    let newIndex;\r\n    newIndex = fotoAnterior(i, arrayLenght);\r\n    // volver a llamar la funcion imagenHabitacion\r\n    imagenHabitacion(divImagen, fotosHabitacion, newIndex);\r\n    // Eliminacion de la imagen anterior\r\n    imagen.remove();\r\n  });\r\n\r\n  detectarDeslizamiento(divImagen)\r\n    .then((direccion) => {\r\n      let newIndex;\r\n\r\n      if (direccion === \"izquierda\") {\r\n        newIndex = fotoSiguiente(i, arrayLenght);\r\n      } else if (direccion === \"derecha\") {\r\n        newIndex = fotoAnterior(i, arrayLenght);\r\n      } else {\r\n        return;\r\n      }\r\n      // volver a llamar la funcion imagenHabitacion\r\n      imagenHabitacion(divImagen, fotosHabitacion, newIndex);\r\n      imagen.remove();\r\n    })\r\n    .catch();\r\n}\r\n\r\nfunction fotoSiguiente(index, arrayLenght) {\r\n  // determinar index actual\r\n  let newIndex = index;\r\n  if (index < arrayLenght) {\r\n    newIndex++;\r\n  } else {\r\n    newIndex = 0;\r\n  }\r\n  return newIndex;\r\n}\r\n\r\nfunction fotoAnterior(index, arrayLenght) {\r\n  // determinar index actual\r\n  let newIndex = index;\r\n  if (index === 0) {\r\n    newIndex = arrayLenght;\r\n  } else {\r\n    newIndex--;\r\n  }\r\n  return newIndex;\r\n}\r\n\r\nfunction rellenarFechas() {\r\n\r\n  if (checkIn.value !== \"\") {\r\n    checkInValue = checkIn.value;\r\n  }\r\n  if (checkOut.value !== \"\") {\r\n    checkOutValue = checkOut.value;\r\n  }\r\n\r\n  if (checkInValue === undefined) {\r\n    checkIn.value = \"\";\r\n  }\r\n  if (checkOutValue === undefined) {\r\n    checkOut.value = \"\";\r\n  }\r\n  if (checkInValue !== undefined && checkOutValue !== undefined) {\r\n    comprobarEstado();\r\n  }\r\n}\r\n"]}