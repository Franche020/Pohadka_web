const checkIn=document.querySelector("#checkin"),checkOut=document.querySelector("#checkout"),room=document.querySelectorAll(".room"),formFecha=document.querySelector("#form-fecha");var checkInValue,checkOutValue;function eventListeners(){checkIn.addEventListener("change",(function(e){checkInValue=e.target.value,comprobarEstado()})),checkOut.addEventListener("change",(function(e){checkOutValue=e.target.value,comprobarEstado()}))}function eventListenersRooms(){room.forEach(e=>{e.addEventListener("click",e=>{mostrarRoom(e.target.id)})})}async function comprobarEstado(){if(void 0!==checkInValue&&void 0!==checkOutValue&&checkInValue<=checkOutValue){let e=[];const o=new FormData;o.append("checkIn",checkInValue),o.append("checkOut",checkOutValue);try{const c="http://localhost:3000/api/rooms",a=await fetch(c,{method:"POST",body:o}),t=await a.json();null!==t.resultado?(console.log(t),t.resultado.forEach(o=>{e.push(o.castillo)}),actualizarRooms(e)):(e=[],actualizarRooms(e))}catch(e){console.log(e)}}}function actualizarRooms(e){const o=document.querySelector("#room1"),c=document.querySelector("#room2"),a=document.querySelector("#room3"),t=document.querySelector("#room4");e.includes("1")?(o.classList.add("reserved"),o.classList.remove("avaiable")):(o.classList.add("avaiable"),o.classList.remove("reserved")),e.includes("2")?(c.classList.add("reserved"),c.classList.remove("avaiable")):(c.classList.add("avaiable"),c.classList.remove("reserved")),e.includes("3")?(a.classList.add("reserved"),a.classList.remove("avaiable")):(a.classList.add("avaiable"),a.classList.remove("reserved")),e.includes("4")?(t.classList.add("reserved"),t.classList.remove("avaiable")):(t.classList.add("avaiable"),t.classList.remove("reserved")),eventListenersRooms()}function mostrarRoom(e){obtenerHabitacion(e.charAt(4));const o=document.createElement("DIV");document.querySelector("#body");o.classList.add("Overlay")}async function obtenerHabitacion(e){const o=new FormData;o.append("id",e);try{const e="http://localhost:3000/api/room",c=await fetch(e,{method:"POST",body:o}),a=await c.json();console.log(a.habitacion.id),console.log(a.habitacion.nombre),console.log(a.habitacion.descripcionIngles),console.log(a.habitacion.descripcionCheco),console.log(a.habitacion.capacidad),console.log(a.habitacion.castillo),console.log(a.habitacion.precio),console.log(a.habitacion.tipo)}catch(e){console.log(e)}}document.addEventListener("DOMContentLoaded",(function(){eventListeners()}));
//# sourceMappingURL=fechas.js.map
